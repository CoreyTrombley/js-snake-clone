{"version":3,"sources":["webpack:///webpack/bootstrap 389b6001d72f98a8c34b","webpack:///./src/main.js","webpack:///./src/renders.js"],"names":["startTime","fps","now","then","Date","interval","delta","score","level","SIZE","GRID","board","document","getElementById","height","width","style","ctx","getContext","scale","newDirection","direction","snakeLength","snake","x","y","food","end","paused","started","randomOffset","Math","floor","random","stringCoords","obj","did_eat_food","window","onkeydown","e","keyCode","requestAnimationFrame","draw","renders","preventDefault","location","reload","timestamp","getTime","newHead","abs","axis","unshift","slice","fillStyle","snakeObj","i","length","a","fillRect","onload","drawBoard","drawScore","font","textAlign","fillText","drawFood","drawLevel","drawPause","drawStart","drawEnd"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 389b6001d72f98a8c34b","import * as renders from './renders';\n\n// animation fps setup\nlet startTime;\nlet fps = 10;\nlet now;\nlet then = Date.now();\nlet interval = 1000 / fps;\nlet delta;\n\n\n// Score Level Setup\nlet score = 0;\nlet level = 1;\n\n// board set up\nconst SIZE = 500;\nconst GRID = SIZE / 50;\n\nconst board = document.getElementById('board');\nboard.height = board.width = SIZE * 2;\nboard.style.width = board.style.height = SIZE + 'px';\n\nconst ctx = board.getContext('2d');\nctx.scale(2, 2);\n\n// setup snake\nlet newDirection = 1\nlet direction = 1;\nlet snakeLength = 5;\nlet snake = [{x: SIZE / 2, y: SIZE / 2}];\nlet food = null;\nlet end = false;\nlet paused = false;\nlet started = false;\n\n// helper functions\nconst randomOffset = () => {\n  return Math.floor(Math.random() * SIZE / GRID) * GRID;\n}\n\nconst stringCoords = (obj) => {\n  return `${obj.x},${obj.y}`;\n}\n\n// checks\nconst did_eat_food = (food, snake) => {\n  if (food && food.x === snake.x && food.y === snake.y) {\n    food = null;\n    score += 1;\n    snakeLength += 5;\n\n    if (score % 2 === 0) {\n      level += 1;\n      fps = fps < 60 ? 10 + level : 60;\n      interval = 1000 / fps;\n    }\n  }\n}\n\nwindow.onkeydown = (e) => {\n  // pause\n  if (e.keyCode === 80) {\n    if (paused === true) {\n      paused = false;\n      window.requestAnimationFrame(draw);\n      return;\n    } else {\n      paused = true;\n      renders.drawPause(ctx);\n      return;\n    }\n  }\n\n  // reset\n  if (e.keyCode === 13 && end === true) {\n    e.preventDefault();\n    document.location.reload(true);\n    return;\n  }\n\n  if (e.keyCode === 13 && started !== true) {\n    started = true;\n    window.requestAnimationFrame(draw);\n    return;\n  }\n\n  // movement\n  newDirection = {37: -1, 38: -2, 39: 1, 40: 2}[e.keyCode] || newDirection;\n};\n\nconst draw = (timestamp) => {\n\n  timestamp = timestamp || new Date().getTime();\n\n  if (paused === true) {\n    renders.drawPause(ctx);\n    return;\n  }\n\n  if (started !== true) {\n    renders.drawBoard(ctx);\n    renders.drawStart(ctx);\n    return;\n  }\n\n  if (end === true) {\n    renders.drawEnd(ctx);\n    return;\n  }\n\n  window.requestAnimationFrame(timestamp => draw(timestamp))\n\n  now = Date.now();\n  delta = now - then;\n\n\n  if (delta > interval) {\n    then = now - (delta % interval);\n\n    const newHead = {x: snake[0].x, y: snake[0].y};\n\n    if (Math.abs(direction) !== Math.abs(newDirection)) {\n      direction = newDirection;\n    }\n\n    const axis = Math.abs(direction) === 1 ? 'x' : 'y';\n    if (direction < 0) {\n      newHead[axis] -= GRID;\n    } else {\n      newHead[axis] += GRID;\n    }\n\n    did_eat_food(food, newHead);\n\n    renders.drawBoard(ctx);\n    renders.drawScore(ctx, score);\n    renders.drawLevel(ctx, level);\n\n    if (end) {\n      renders.drawEnd(ctx);\n    } else {\n      snake.unshift(newHead);\n      snake = snake.slice(0, snakeLength);\n    }\n\n    // Collisions\n    if (newHead.x < 0 || newHead.x >= SIZE || newHead.y < 0 || newHead.y >= SIZE) {\n       end = true;\n    }\n\n    ctx.fillStyle = '#2db0ed';\n    const snakeObj = {};\n    for (let i = 0; i < snake.length; i++) {\n      let a = snake[i];\n      ctx.fillRect(a.x, a.y, GRID, GRID);\n      if (i > 0) {\n         snakeObj[stringCoords(a)] = true;\n      }\n    }\n\n    if (snakeObj[stringCoords(newHead)]) {\n       end = true;\n    }\n\n    while (!food || snakeObj[stringCoords(food)]) {\n      food = {x: randomOffset(), y: randomOffset()};\n    }\n\n    renders.drawFood(ctx, food);\n  }\n}\n\n\nwindow.onload = () => {\n  window.requestAnimationFrame(timestamp => {\n    startTime = timestamp || new Date().getTime();\n    draw(startTime);\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const SIZE = 500;\nconst GRID = SIZE / 50;\n\nexport const drawBoard = (ctx) => {\n  ctx.fillStyle = '#eee';\n  ctx.fillRect(0, 0, SIZE, SIZE);\n}\n\nexport const drawScore = (ctx, score) => {\n  ctx.font = \"16px Arial\";\n  ctx.fillStyle = \"#444\";\n  ctx.textAlign = 'center';\n  ctx.fillText(`Score: ${score}`, 40, 20);\n}\n\nexport const drawFood = (ctx, food) => {\n  ctx.fillStyle = '#e80055';\n  ctx.fillRect(food.x, food.y, GRID, GRID);\n}\n\nexport const drawLevel = (ctx, level) => {\n  ctx.font = \"16px arial\";\n  ctx.fillStyle = \"#444\";\n  ctx.textAlign = 'center';\n  ctx.fillText(`Level: ${level}`, 38, 40);\n}\n\nexport const drawPause = (ctx) => {\n  ctx.fillStyle = '#444';\n  ctx.font = '40px arial';\n  ctx.textAlign = 'center';\n  ctx.fillText('Paused', SIZE / 2, SIZE / 2);\n}\n\nexport const drawStart = (ctx) => {\n  ctx.fillStyle = '#444';\n  ctx.font = '40px arial';\n  ctx.textAlign = 'center';\n  ctx.fillText('Press enter to start', SIZE / 2, SIZE / 2);\n}\n\nexport const drawEnd = (ctx) => {\n  ctx.fillStyle = '#444';\n  ctx.font = '40px arial';\n  ctx.textAlign = 'center';\n  ctx.fillText('Press enter to restart', SIZE / 2, SIZE / 2);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/renders.js"],"sourceRoot":""}